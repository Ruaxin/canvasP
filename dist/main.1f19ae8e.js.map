{"version":3,"sources":["main.js"],"names":["canvas","document","getElementById","context","getContext","lineWidth","autoSetCanvasSize","listenToUser","eraserEnabled","eraser","onclick","classList","add","pen","remove","clear","clearRect","width","height","download","compositeOperation","globalCompositeOperation","fillStyle","fillRect","imageData","toDataURL","putImageData","getImageData","a","createElement","body","appendChild","href","target","click","black","strokeStyle","red","green","blue","thin","thick","drawLine","x1","y1","x2","y2","beginPath","moveTo","lineTo","stroke","closePath","drawCricle","x","y","radius","arc","Math","PI","fill","canvasSize","window","onresize","pageWidth","documentElement","clientWidth","pageHeight","clientHeight","using","lastPoint","undefined","ontouchstart","onmousedown","clientX","clientY","onmousemove","newPoint","onmouseup","touches","ontouchmove","ontouchend"],"mappings":"AAAA,IAAIA,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAb;AACA,IAAIC,OAAO,GAAGH,MAAM,CAACI,UAAP,CAAkB,IAAlB,CAAd;AACA,IAAIC,SAAS,GAAG,CAAhB;AAEAC,iBAAiB,CAACN,MAAD,CAAjB;AAEAO,YAAY,CAACP,MAAD,CAAZ;AAEA,IAAIQ,aAAa,GAAG,KAApB;;AACAC,MAAM,CAACC,OAAP,GAAiB,YAAY;AAC3BF,EAAAA,aAAa,GAAG,IAAhB;AACAC,EAAAA,MAAM,CAACE,SAAP,CAAiBC,GAAjB,CAAqB,QAArB;AACAC,EAAAA,GAAG,CAACF,SAAJ,CAAcG,MAAd,CAAqB,QAArB;AACD,CAJD;;AAKAD,GAAG,CAACH,OAAJ,GAAc,YAAY;AACxBF,EAAAA,aAAa,GAAG,KAAhB;AACAK,EAAAA,GAAG,CAACF,SAAJ,CAAcC,GAAd,CAAkB,QAAlB;AACAH,EAAAA,MAAM,CAACE,SAAP,CAAiBG,MAAjB,CAAwB,QAAxB;AACD,CAJD;;AAKAC,KAAK,CAACL,OAAN,GAAgB,YAAY;AAC1BP,EAAAA,OAAO,CAACa,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBhB,MAAM,CAACiB,KAA/B,EAAsCjB,MAAM,CAACkB,MAA7C;AACD,CAFD;;AAIAC,QAAQ,CAACT,OAAT,GAAmB,YAAY;AAC7B,MAAIU,kBAAkB,GAAGjB,OAAO,CAACkB,wBAAjC;AACAlB,EAAAA,OAAO,CAACkB,wBAAR,GAAmC,kBAAnC;AACAlB,EAAAA,OAAO,CAACmB,SAAR,GAAoB,MAApB;AACAnB,EAAAA,OAAO,CAACoB,QAAR,CAAiB,CAAjB,EAAoB,CAApB,EAAuBvB,MAAM,CAACiB,KAA9B,EAAqCjB,MAAM,CAACkB,MAA5C;AACA,MAAIM,SAAS,GAAGxB,MAAM,CAACyB,SAAP,CAAiB,WAAjB,CAAhB;AACAtB,EAAAA,OAAO,CAACuB,YAAR,CAAqBvB,OAAO,CAACwB,YAAR,CAAqB,CAArB,EAAwB,CAAxB,EAA2B3B,MAAM,CAACiB,KAAlC,EAAyCjB,MAAM,CAACkB,MAAhD,CAArB,EAA8E,CAA9E,EAAiF,CAAjF;AACAf,EAAAA,OAAO,CAACkB,wBAAR,GAAmCD,kBAAnC;AACA,MAAIQ,CAAC,GAAG3B,QAAQ,CAAC4B,aAAT,CAAuB,GAAvB,CAAR;AACA5B,EAAAA,QAAQ,CAAC6B,IAAT,CAAcC,WAAd,CAA0BH,CAA1B;AACAA,EAAAA,CAAC,CAACI,IAAF,GAASR,SAAT;AACAI,EAAAA,CAAC,CAACT,QAAF,GAAa,SAAb;AACAS,EAAAA,CAAC,CAACK,MAAF,GAAW,QAAX;AACAL,EAAAA,CAAC,CAACM,KAAF;AACD,CAdD;;AAgBAC,KAAK,CAACzB,OAAN,GAAgB,YAAY;AAC1BP,EAAAA,OAAO,CAACmB,SAAR,GAAoB,OAApB;AACAnB,EAAAA,OAAO,CAACiC,WAAR,GAAsB,OAAtB;AACAD,EAAAA,KAAK,CAACxB,SAAN,CAAgBC,GAAhB,CAAoB,QAApB;AACAyB,EAAAA,GAAG,CAAC1B,SAAJ,CAAcG,MAAd,CAAqB,QAArB;AACAwB,EAAAA,KAAK,CAAC3B,SAAN,CAAgBG,MAAhB,CAAuB,QAAvB;AACAyB,EAAAA,IAAI,CAAC5B,SAAL,CAAeG,MAAf,CAAsB,QAAtB;AACD,CAPD;;AAQAuB,GAAG,CAAC3B,OAAJ,GAAc,YAAY;AACxBP,EAAAA,OAAO,CAACmB,SAAR,GAAoB,KAApB;AACAnB,EAAAA,OAAO,CAACiC,WAAR,GAAsB,KAAtB;AACAC,EAAAA,GAAG,CAAC1B,SAAJ,CAAcC,GAAd,CAAkB,QAAlB;AACA0B,EAAAA,KAAK,CAAC3B,SAAN,CAAgBG,MAAhB,CAAuB,QAAvB;AACAyB,EAAAA,IAAI,CAAC5B,SAAL,CAAeG,MAAf,CAAsB,QAAtB;AACAqB,EAAAA,KAAK,CAACxB,SAAN,CAAgBG,MAAhB,CAAuB,QAAvB;AACD,CAPD;;AAQAwB,KAAK,CAAC5B,OAAN,GAAgB,YAAY;AAC1BP,EAAAA,OAAO,CAACmB,SAAR,GAAoB,OAApB;AACAnB,EAAAA,OAAO,CAACiC,WAAR,GAAsB,OAAtB;AACAE,EAAAA,KAAK,CAAC3B,SAAN,CAAgBC,GAAhB,CAAoB,QAApB;AACAyB,EAAAA,GAAG,CAAC1B,SAAJ,CAAcG,MAAd,CAAqB,QAArB;AACAyB,EAAAA,IAAI,CAAC5B,SAAL,CAAeG,MAAf,CAAsB,QAAtB;AACAqB,EAAAA,KAAK,CAACxB,SAAN,CAAgBG,MAAhB,CAAuB,QAAvB;AACD,CAPD;;AAQAyB,IAAI,CAAC7B,OAAL,GAAe,YAAY;AACzBP,EAAAA,OAAO,CAACmB,SAAR,GAAoB,MAApB;AACAnB,EAAAA,OAAO,CAACiC,WAAR,GAAsB,MAAtB;AACAG,EAAAA,IAAI,CAAC5B,SAAL,CAAeC,GAAf,CAAmB,QAAnB;AACA0B,EAAAA,KAAK,CAAC3B,SAAN,CAAgBG,MAAhB,CAAuB,QAAvB;AACAuB,EAAAA,GAAG,CAAC1B,SAAJ,CAAcG,MAAd,CAAqB,QAArB;AACAqB,EAAAA,KAAK,CAACxB,SAAN,CAAgBG,MAAhB,CAAuB,QAAvB;AACD,CAPD;;AASA0B,IAAI,CAAC9B,OAAL,GAAe,YAAY;AACzBL,EAAAA,SAAS,GAAG,CAAZ;AACAmC,EAAAA,IAAI,CAAC7B,SAAL,CAAeC,GAAf,CAAmB,QAAnB;AACA6B,EAAAA,KAAK,CAAC9B,SAAN,CAAgBG,MAAhB,CAAuB,QAAvB;AACD,CAJD;;AAKA2B,KAAK,CAAC/B,OAAN,GAAgB,YAAY;AAC1BL,EAAAA,SAAS,GAAG,EAAZ;AACAoC,EAAAA,KAAK,CAAC9B,SAAN,CAAgBC,GAAhB,CAAoB,QAApB;AACA4B,EAAAA,IAAI,CAAC7B,SAAL,CAAeG,MAAf,CAAsB,QAAtB;AACD,CAJD;;AAMA,SAAS4B,QAAT,CAAmBC,EAAnB,EAAuBC,EAAvB,EAA2BC,EAA3B,EAA+BC,EAA/B,EAAmC;AACjC3C,EAAAA,OAAO,CAAC4C,SAAR;AACA5C,EAAAA,OAAO,CAAC6C,MAAR,CAAeL,EAAf,EAAmBC,EAAnB;AACAzC,EAAAA,OAAO,CAACE,SAAR,GAAoBA,SAApB;AACAF,EAAAA,OAAO,CAAC8C,MAAR,CAAeJ,EAAf,EAAmBC,EAAnB;AACA3C,EAAAA,OAAO,CAAC+C,MAAR;AACA/C,EAAAA,OAAO,CAACgD,SAAR;AACD;;AAED,SAASC,UAAT,CAAqBC,CAArB,EAAwBC,CAAxB,EAA2BC,MAA3B,EAAmC;AACjCpD,EAAAA,OAAO,CAAC4C,SAAR;AACA5C,EAAAA,OAAO,CAACqD,GAAR,CAAYH,CAAZ,EAAeC,CAAf,EAAkBC,MAAlB,EAA0B,CAA1B,EAA6BE,IAAI,CAACC,EAAL,GAAU,CAAvC;AACAvD,EAAAA,OAAO,CAACwD,IAAR;AACD;;AAED,SAASrD,iBAAT,CAA4BN,MAA5B,EAAoC;AAClC4D,EAAAA,UAAU;;AACVC,EAAAA,MAAM,CAACC,QAAP,GAAkB,YAAY;AAC5BF,IAAAA,UAAU;AACX,GAFD;;AAIA,WAASA,UAAT,GAAuB;AACrB,QAAIG,SAAS,GAAG9D,QAAQ,CAAC+D,eAAT,CAAyBC,WAAzC;AACA,QAAIC,UAAU,GAAGjE,QAAQ,CAAC+D,eAAT,CAAyBG,YAA1C;AACAnE,IAAAA,MAAM,CAACiB,KAAP,GAAe8C,SAAf;AACA/D,IAAAA,MAAM,CAACkB,MAAP,GAAgBgD,UAAhB;AACD;AACF;;AAED,SAAS3D,YAAT,CAAuBP,MAAvB,EAA+B;AAE7B,MAAIoE,KAAK,GAAG,KAAZ;AACA,MAAIC,SAAS,GAAG;AACdhB,IAAAA,CAAC,EAAEiB,SADW;AAEdhB,IAAAA,CAAC,EAAEgB;AAFW,GAAhB;;AAIA,MAAIrE,QAAQ,CAAC6B,IAAT,CAAcyC,YAAd,KAA+BD,SAAnC,EAA8C;AAC5CtE,IAAAA,MAAM,CAACwE,WAAP,GAAqB,UAAU5C,CAAV,EAAa;AAChC,UAAIyB,CAAC,GAAGzB,CAAC,CAAC6C,OAAV;AACA,UAAInB,CAAC,GAAG1B,CAAC,CAAC8C,OAAV;AACAN,MAAAA,KAAK,GAAG,IAAR;;AACA,UAAI5D,aAAJ,EAAmB;AACjBL,QAAAA,OAAO,CAACa,SAAR,CAAkBqC,CAAC,GAAG,CAAtB,EAAyBC,CAAC,GAAG,CAA7B,EAAgC,EAAhC,EAAoC,EAApC;AACD,OAFD,MAEO;AACLe,QAAAA,SAAS,GAAG;AACVhB,UAAAA,CAAC,EAAEA,CADO;AAEVC,UAAAA,CAAC,EAAEA;AAFO,SAAZ;AAID;AACF,KAZD;;AAaAtD,IAAAA,MAAM,CAAC2E,WAAP,GAAqB,UAAU/C,CAAV,EAAa;AAChC,UAAIyB,CAAC,GAAGzB,CAAC,CAAC6C,OAAV;AACA,UAAInB,CAAC,GAAG1B,CAAC,CAAC8C,OAAV;;AACA,UAAI,CAACN,KAAL,EAAY;AACV;AACD;;AACD,UAAI5D,aAAJ,EAAmB;AACjBL,QAAAA,OAAO,CAACa,SAAR,CAAkBqC,CAAC,GAAG,CAAtB,EAAyBC,CAAC,GAAG,CAA7B,EAAgC,EAAhC,EAAoC,EAApC;AACD,OAFD,MAEO;AACL,YAAIsB,QAAQ,GAAG;AACbvB,UAAAA,CAAC,EAAEA,CADU;AAEbC,UAAAA,CAAC,EAAEA;AAFU,SAAf;AAIAF,QAAAA,UAAU,CAACC,CAAD,EAAIC,CAAJ,EAAOjD,SAAS,GAAG,CAAnB,CAAV;AACAqC,QAAAA,QAAQ,CAAC2B,SAAS,CAAChB,CAAX,EAAcgB,SAAS,CAACf,CAAxB,EAA2BsB,QAAQ,CAACvB,CAApC,EAAuCuB,QAAQ,CAACtB,CAAhD,CAAR;AACAe,QAAAA,SAAS,GAAGO,QAAZ;AACD;AACF,KAjBD;;AAkBA5E,IAAAA,MAAM,CAAC6E,SAAP,GAAmB,YAAY;AAC7BT,MAAAA,KAAK,GAAG,KAAR;AACD,KAFD;AAGD,GAnCD,MAmCO;AACLpE,IAAAA,MAAM,CAACuE,YAAP,GAAsB,UAAU3C,CAAV,EAAa;AACjC,UAAIyB,CAAC,GAAGzB,CAAC,CAACkD,OAAF,CAAU,CAAV,EAAaL,OAArB;AACA,UAAInB,CAAC,GAAG1B,CAAC,CAACkD,OAAF,CAAU,CAAV,EAAaJ,OAArB;AACAN,MAAAA,KAAK,GAAG,IAAR;;AACA,UAAI5D,aAAJ,EAAmB;AACjBL,QAAAA,OAAO,CAACa,SAAR,CAAkBqC,CAAC,GAAG,CAAtB,EAAyBC,CAAC,GAAG,CAA7B,EAAgC,EAAhC,EAAoC,EAApC;AACD,OAFD,MAEO;AACLe,QAAAA,SAAS,GAAG;AACVhB,UAAAA,CAAC,EAAEA,CADO;AAEVC,UAAAA,CAAC,EAAEA;AAFO,SAAZ;AAID;AACF,KAZD;;AAaAtD,IAAAA,MAAM,CAAC+E,WAAP,GAAqB,UAAUnD,CAAV,EAAa;AAChC,UAAIyB,CAAC,GAAGzB,CAAC,CAACkD,OAAF,CAAU,CAAV,EAAaL,OAArB;AACA,UAAInB,CAAC,GAAG1B,CAAC,CAACkD,OAAF,CAAU,CAAV,EAAaJ,OAArB;;AACA,UAAI,CAACN,KAAL,EAAY;AACV;AACD;;AACD,UAAI5D,aAAJ,EAAmB;AACjBL,QAAAA,OAAO,CAACa,SAAR,CAAkBqC,CAAC,GAAG,CAAtB,EAAyBC,CAAC,GAAG,CAA7B,EAAgC,EAAhC,EAAoC,EAApC;AACD,OAFD,MAEO;AACL,YAAIsB,QAAQ,GAAG;AACbvB,UAAAA,CAAC,EAAEA,CADU;AAEbC,UAAAA,CAAC,EAAEA;AAFU,SAAf;AAIAF,QAAAA,UAAU,CAACC,CAAD,EAAIC,CAAJ,EAAOjD,SAAS,GAAG,CAAnB,CAAV;AACAqC,QAAAA,QAAQ,CAAC2B,SAAS,CAAChB,CAAX,EAAcgB,SAAS,CAACf,CAAxB,EAA2BsB,QAAQ,CAACvB,CAApC,EAAuCuB,QAAQ,CAACtB,CAAhD,CAAR;AACAe,QAAAA,SAAS,GAAGO,QAAZ;AACD;AACF,KAjBD;;AAkBA5E,IAAAA,MAAM,CAACgF,UAAP,GAAoB,YAAY;AAC9BZ,MAAAA,KAAK,GAAG,KAAR;AACD,KAFD;AAGD;AACF","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["let canvas = document.getElementById('canvas')\r\nlet context = canvas.getContext('2d')\r\nlet lineWidth = 5\r\n\r\nautoSetCanvasSize(canvas)\r\n\r\nlistenToUser(canvas)\r\n\r\nlet eraserEnabled = false\r\neraser.onclick = function () {\r\n  eraserEnabled = true\r\n  eraser.classList.add('active')\r\n  pen.classList.remove('active')\r\n}\r\npen.onclick = function () {\r\n  eraserEnabled = false\r\n  pen.classList.add('active')\r\n  eraser.classList.remove('active')\r\n}\r\nclear.onclick = function () {\r\n  context.clearRect(0, 0, canvas.width, canvas.height)\r\n}\r\n\r\ndownload.onclick = function () {\r\n  let compositeOperation = context.globalCompositeOperation\r\n  context.globalCompositeOperation = 'destination-over'\r\n  context.fillStyle = '#fff'\r\n  context.fillRect(0, 0, canvas.width, canvas.height)\r\n  let imageData = canvas.toDataURL('image/png')\r\n  context.putImageData(context.getImageData(0, 0, canvas.width, canvas.height), 0, 0)\r\n  context.globalCompositeOperation = compositeOperation\r\n  let a = document.createElement('a')\r\n  document.body.appendChild(a)\r\n  a.href = imageData\r\n  a.download = 'mypaint'\r\n  a.target = '_blank'\r\n  a.click()\r\n}\r\n\r\nblack.onclick = function () {\r\n  context.fillStyle = 'black'\r\n  context.strokeStyle = 'black'\r\n  black.classList.add('active')\r\n  red.classList.remove('active')\r\n  green.classList.remove('active')\r\n  blue.classList.remove('active')\r\n}\r\nred.onclick = function () {\r\n  context.fillStyle = 'red'\r\n  context.strokeStyle = 'red'\r\n  red.classList.add('active')\r\n  green.classList.remove('active')\r\n  blue.classList.remove('active')\r\n  black.classList.remove('active')\r\n}\r\ngreen.onclick = function () {\r\n  context.fillStyle = 'green'\r\n  context.strokeStyle = 'green'\r\n  green.classList.add('active')\r\n  red.classList.remove('active')\r\n  blue.classList.remove('active')\r\n  black.classList.remove('active')\r\n}\r\nblue.onclick = function () {\r\n  context.fillStyle = 'blue'\r\n  context.strokeStyle = 'blue'\r\n  blue.classList.add('active')\r\n  green.classList.remove('active')\r\n  red.classList.remove('active')\r\n  black.classList.remove('active')\r\n}\r\n\r\nthin.onclick = function () {\r\n  lineWidth = 5\r\n  thin.classList.add('active')\r\n  thick.classList.remove('active')\r\n}\r\nthick.onclick = function () {\r\n  lineWidth = 10\r\n  thick.classList.add('active')\r\n  thin.classList.remove('active')\r\n}\r\n\r\nfunction drawLine (x1, y1, x2, y2) {\r\n  context.beginPath()\r\n  context.moveTo(x1, y1)\r\n  context.lineWidth = lineWidth\r\n  context.lineTo(x2, y2)\r\n  context.stroke()\r\n  context.closePath()\r\n}\r\n\r\nfunction drawCricle (x, y, radius) {\r\n  context.beginPath()\r\n  context.arc(x, y, radius, 0, Math.PI * 2)\r\n  context.fill()\r\n}\r\n\r\nfunction autoSetCanvasSize (canvas) {\r\n  canvasSize()\r\n  window.onresize = function () {\r\n    canvasSize()\r\n  }\r\n\r\n  function canvasSize () {\r\n    let pageWidth = document.documentElement.clientWidth\r\n    let pageHeight = document.documentElement.clientHeight\r\n    canvas.width = pageWidth\r\n    canvas.height = pageHeight\r\n  }\r\n}\r\n\r\nfunction listenToUser (canvas) {\r\n\r\n  let using = false\r\n  let lastPoint = {\r\n    x: undefined,\r\n    y: undefined\r\n  }\r\n  if (document.body.ontouchstart === undefined) {\r\n    canvas.onmousedown = function (a) {\r\n      let x = a.clientX\r\n      let y = a.clientY\r\n      using = true\r\n      if (eraserEnabled) {\r\n        context.clearRect(x - 5, y - 5, 10, 10)\r\n      } else {\r\n        lastPoint = {\r\n          x: x,\r\n          y: y\r\n        }\r\n      }\r\n    }\r\n    canvas.onmousemove = function (a) {\r\n      let x = a.clientX\r\n      let y = a.clientY\r\n      if (!using) {\r\n        return\r\n      }\r\n      if (eraserEnabled) {\r\n        context.clearRect(x - 5, y - 5, 10, 10)\r\n      } else {\r\n        let newPoint = {\r\n          x: x,\r\n          y: y\r\n        }\r\n        drawCricle(x, y, lineWidth / 2)\r\n        drawLine(lastPoint.x, lastPoint.y, newPoint.x, newPoint.y)\r\n        lastPoint = newPoint\r\n      }\r\n    }\r\n    canvas.onmouseup = function () {\r\n      using = false\r\n    }\r\n  } else {\r\n    canvas.ontouchstart = function (a) {\r\n      let x = a.touches[0].clientX\r\n      let y = a.touches[0].clientY\r\n      using = true\r\n      if (eraserEnabled) {\r\n        context.clearRect(x - 5, y - 5, 10, 10)\r\n      } else {\r\n        lastPoint = {\r\n          x: x,\r\n          y: y\r\n        }\r\n      }\r\n    }\r\n    canvas.ontouchmove = function (a) {\r\n      let x = a.touches[0].clientX\r\n      let y = a.touches[0].clientY\r\n      if (!using) {\r\n        return\r\n      }\r\n      if (eraserEnabled) {\r\n        context.clearRect(x - 5, y - 5, 10, 10)\r\n      } else {\r\n        let newPoint = {\r\n          x: x,\r\n          y: y\r\n        }\r\n        drawCricle(x, y, lineWidth / 2)\r\n        drawLine(lastPoint.x, lastPoint.y, newPoint.x, newPoint.y)\r\n        lastPoint = newPoint\r\n      }\r\n    }\r\n    canvas.ontouchend = function () {\r\n      using = false\r\n    }\r\n  }\r\n}"]}